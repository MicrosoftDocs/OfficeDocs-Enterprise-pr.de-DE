---
title: Vorbereiten von Benutzern auf die Bereitstellung in Office 365 über die Verzeichnissynchronisierung
ms.author: josephd
author: JoeDavies-MSFT
manager: laurawi
audience: Admin
ms.topic: article
f1_keywords:
- O365p_AddUsersWithDirSync
- O365M_AddUsersWithDirSync
- O365E_HRCSetupAADConnectAboutLM617031
- O365E_AddUsersWithDirSync
ms.service: o365-administration
localization_priority: Normal
ms.custom: Adm_O365
ms.collection:
- Ent_O365
- M365-identity-device-management
search.appverid:
- MET150
- MOP150
- MOE150
- MBS150
ms.assetid: 01920974-9e6f-4331-a370-13aea4e82b3e
description: Beschreibt die Vorbereitung der Bereitstellung von Benutzern auf Office 365 mithilfe der Verzeichnissynchronisierung und der langfristigen Vorteile der Verwendung dieser Methode.
ms.openlocfilehash: 0b2fe552911797337541bd25f0efcb81eab303bf
ms.sourcegitcommit: 08e1e1c09f64926394043291a77856620d6f72b5
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 05/15/2019
ms.locfileid: "34071031"
---
# <a name="prepare-to-provision-users-through-directory-synchronization-to-office-365"></a><span data-ttu-id="387c8-103">Vorbereiten von Benutzern auf die Bereitstellung in Office 365 über die Verzeichnissynchronisierung</span><span class="sxs-lookup"><span data-stu-id="387c8-103">Prepare to provision users through directory synchronization to Office 365</span></span>

<span data-ttu-id="387c8-104">Das Bereitstellen von Benutzern mit der Verzeichnissynchronisierung erfordert mehr Planung und Vorbereitung, als nur das geschäftliche oder schulische Konto direkt in Office 365 zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="387c8-104">Provisioning users with directory synchronization requires more planning and preparation than simply managing your work or school account directly in Office 365.</span></span> <span data-ttu-id="387c8-105">Die zusätzlichen Planungs-und Vorbereitungsaufgaben sind erforderlich, um sicherzustellen, dass Ihr lokales Active Directory ordnungsgemäß mit Azure Active Directory synchronisiert wird.</span><span class="sxs-lookup"><span data-stu-id="387c8-105">The additional planning and preparation tasks are required to ensure that your on-premises Active Directory synchronizes properly to Azure Active Directory.</span></span> <span data-ttu-id="387c8-106">Zu den Vorteilen für Ihre Organisation gehört Folgendes:</span><span class="sxs-lookup"><span data-stu-id="387c8-106">The added benefits to your organization include:</span></span>
  
- <span data-ttu-id="387c8-107">Reduzieren der Verwaltungsprogramme in Ihrer Organisation</span><span class="sxs-lookup"><span data-stu-id="387c8-107">Reducing the administrative programs in your organization</span></span>
- <span data-ttu-id="387c8-108">Optionales Aktivieren des Szenarios für einmaliges Anmelden</span><span class="sxs-lookup"><span data-stu-id="387c8-108">Optionally enabling single sign-on scenario</span></span>
- <span data-ttu-id="387c8-109">Automatisieren von Kontoänderungen in Office 365</span><span class="sxs-lookup"><span data-stu-id="387c8-109">Automating account changes in Office 365</span></span>
    
<span data-ttu-id="387c8-110">Weitere Informationen zu den Vorteilen der Verwendung der Verzeichnissynchronisierung finden Sie unter Übersicht über die [Verzeichnissynchronisierung]( https://go.microsoft.com/fwlink/p/?LinkId=525398) und [Grundlegendes zu Office 365 Identity und Azure Active Directory](about-office-365-identity.md).</span><span class="sxs-lookup"><span data-stu-id="387c8-110">For more information about the advantages of using directory synchronization, see [Directory synchronization roadmap]( https://go.microsoft.com/fwlink/p/?LinkId=525398) and [Understanding Office 365 Identity and Azure Active Directory](about-office-365-identity.md).</span></span>
  
<span data-ttu-id="387c8-111">Um zu bestimmen, welches Szenario am besten für Ihre Organisation geeignet ist, lesen Sie den [Vergleich der Verzeichnis Integrationstools](https://go.microsoft.com/fwlink/p/?LinkId=525320).</span><span class="sxs-lookup"><span data-stu-id="387c8-111">To determine which scenario is the best for your organization, review the [directory integration tools comparison](https://go.microsoft.com/fwlink/p/?LinkId=525320).</span></span>
  
## <a name="directory-cleanup-tasks"></a><span data-ttu-id="387c8-112">Aufgaben zur Verzeichnisbereinigung</span><span class="sxs-lookup"><span data-stu-id="387c8-112">Directory cleanup tasks</span></span>

<span data-ttu-id="387c8-113">Bevor Sie mit der Synchronisierung Ihres Verzeichnisses beginnen, müssen Sie Ihr Verzeichnis bereinigen.</span><span class="sxs-lookup"><span data-stu-id="387c8-113">Before you begin synchronizing your directory, you need to clean up your directory.</span></span>
  
<span data-ttu-id="387c8-114">Lesen Sie auch die [Attribute, die von Azure AD Connect mit Azure Active Directory synchronisiert wurden](https://docs.microsoft.com/azure/active-directory/hybrid/reference-connect-sync-attributes-synchronized).</span><span class="sxs-lookup"><span data-stu-id="387c8-114">Review also the [attributes synchronized to Azure Active Directory by Azure AD Connect](https://docs.microsoft.com/azure/active-directory/hybrid/reference-connect-sync-attributes-synchronized).</span></span>
  
> [!IMPORTANT]
> <span data-ttu-id="387c8-115">Wenn Sie vor der Synchronisierung keine Verzeichnisbereinigung durchführen, kann sich dies negativ auf den Bereitstellungsprozess auswirken.</span><span class="sxs-lookup"><span data-stu-id="387c8-115">If you don't perform directory cleanup before you synchronize, there can be a significant negative effect on the deployment process.</span></span> <span data-ttu-id="387c8-116">Es kann Tage oder sogar Wochen dauern, bis der Zyklus der Verzeichnissynchronisierung durchlaufen wird, Fehler identifiziert und erneut synchronisiert werden.</span><span class="sxs-lookup"><span data-stu-id="387c8-116">It might take days, or even weeks, to go through the cycle of directory synchronization, identifying errors, and re-synchronization.</span></span> 
  
<span data-ttu-id="387c8-117">Führen Sie im lokalen Verzeichnis die folgenden Bereinigungsaufgaben aus:</span><span class="sxs-lookup"><span data-stu-id="387c8-117">In your on-premises directory, complete the following clean-up tasks:</span></span>
  
1. <span data-ttu-id="387c8-118">Stellen Sie sicher, dass jeder Benutzer, dem Office 365-Dienstangebote zugewiesen werden, über eine gültige und eindeutige e-Mail-Adresse im **proxyAddresses** -Attribut verfügt.</span><span class="sxs-lookup"><span data-stu-id="387c8-118">Ensure that each user who will be assigned Office 365 service offerings has a valid and unique email address in the **proxyAddresses** attribute.</span></span> 
    
2. <span data-ttu-id="387c8-119">Entfernen Sie alle doppelten Werte im **proxyAddresses** -Attribut.</span><span class="sxs-lookup"><span data-stu-id="387c8-119">Remove any duplicate values in the **proxyAddresses** attribute.</span></span> 
    
3.  <span data-ttu-id="387c8-120">Stellen Sie nach Möglichkeit sicher, dass jeder Benutzer, dem Office 365-Dienstangebote zugewiesen werden, einen gültigen und eindeutigen Wert für das **userPrincipalName** -Attribut im **Benutzer** Objekt des Benutzers hat.</span><span class="sxs-lookup"><span data-stu-id="387c8-120">If possible, ensure that each user who will be assigned Office 365 service offerings has a valid and unique value for the **userPrincipalName** attribute in the user's **user** object.</span></span> <span data-ttu-id="387c8-121">Stellen Sie für eine optimale Synchronisierung sicher, dass der UPN des lokalen Active Directory mit dem Cloud-UPN übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="387c8-121">For best synchronization experience, ensure that the on-premises Active Directory UPN matches the cloud UPN.</span></span> <span data-ttu-id="387c8-122">Wenn ein Benutzer keinen Wert für das **userPrincipalName** -Attribut hat, muss das **User** -Objekt einen gültigen und eindeutigen Wert für das **sAMAccountName** -Attribut enthalten.</span><span class="sxs-lookup"><span data-stu-id="387c8-122">If a user does not have a value for the **userPrincipalName** attribute, then the **user** object must contain a valid and unique value for the **sAMAccountName** attribute.</span></span> <span data-ttu-id="387c8-123">Entfernen Sie alle doppelten Werte im **userPrincipalName** -Attribut.</span><span class="sxs-lookup"><span data-stu-id="387c8-123">Remove any duplicate values in the **userPrincipalName** attribute.</span></span> 
    
4. <span data-ttu-id="387c8-124">Um die globale Adressliste (GAL) optimal zu verwenden, stellen Sie sicher, dass die Informationen in den folgenden Attributen korrekt sind:</span><span class="sxs-lookup"><span data-stu-id="387c8-124">For optimal use of the global address list (GAL), be sure the information in the following attributes is correct:</span></span>
    
  - <span data-ttu-id="387c8-125">givenName</span><span class="sxs-lookup"><span data-stu-id="387c8-125">givenName</span></span>
  - <span data-ttu-id="387c8-126">surname</span><span class="sxs-lookup"><span data-stu-id="387c8-126">surname</span></span>
  - <span data-ttu-id="387c8-127">displayName</span><span class="sxs-lookup"><span data-stu-id="387c8-127">displayName</span></span>
  - <span data-ttu-id="387c8-128">Position</span><span class="sxs-lookup"><span data-stu-id="387c8-128">Job Title</span></span>
  - <span data-ttu-id="387c8-129">Abteilung</span><span class="sxs-lookup"><span data-stu-id="387c8-129">Department</span></span>
  - <span data-ttu-id="387c8-130">Büro</span><span class="sxs-lookup"><span data-stu-id="387c8-130">Office</span></span>
  - <span data-ttu-id="387c8-131">Telefon (geschäftlich)</span><span class="sxs-lookup"><span data-stu-id="387c8-131">Office Phone</span></span>
  - <span data-ttu-id="387c8-132">Mobiltelefon</span><span class="sxs-lookup"><span data-stu-id="387c8-132">Mobile Phone</span></span>
  - <span data-ttu-id="387c8-133">Faxnummer</span><span class="sxs-lookup"><span data-stu-id="387c8-133">Fax Number</span></span>
  - <span data-ttu-id="387c8-134">Straße</span><span class="sxs-lookup"><span data-stu-id="387c8-134">Street Address</span></span>
  - <span data-ttu-id="387c8-135">Stadt</span><span class="sxs-lookup"><span data-stu-id="387c8-135">City</span></span>
  - <span data-ttu-id="387c8-136">Bundesland/Kanton</span><span class="sxs-lookup"><span data-stu-id="387c8-136">State or Province</span></span>
  - <span data-ttu-id="387c8-137">PLZ</span><span class="sxs-lookup"><span data-stu-id="387c8-137">Zip or Postal Code</span></span>
  - <span data-ttu-id="387c8-138">Land oder Region</span><span class="sxs-lookup"><span data-stu-id="387c8-138">Country or Region</span></span>
    
## <a name="directory-object-and-attribute-preparation"></a><span data-ttu-id="387c8-139">Verzeichnisobjekt-und Attribut Vorbereitung</span><span class="sxs-lookup"><span data-stu-id="387c8-139">Directory object and attribute preparation</span></span>

<span data-ttu-id="387c8-140">Für die erfolgreiche Verzeichnissynchronisierung zwischen dem lokalen Verzeichnis und Office 365 müssen die lokalen Verzeichnisattribute ordnungsgemäß vorbereitet werden.</span><span class="sxs-lookup"><span data-stu-id="387c8-140">Successful directory synchronization between your on-premises directory and Office 365 requires that your on-premises directory attributes are properly prepared.</span></span> <span data-ttu-id="387c8-141">Sie müssen beispielsweise sicherstellen, dass bestimmte Zeichen nicht in bestimmten Attributen verwendet werden, die mit der Office 365-Umgebung synchronisiert werden.</span><span class="sxs-lookup"><span data-stu-id="387c8-141">For example, you need to ensure that specific characters aren't used in certain attributes that are synchronized with the Office 365 environment.</span></span> <span data-ttu-id="387c8-142">Unerwartete Zeichen führen nicht dazu, dass die Verzeichnissynchronisierung fehlschlägt, aber möglicherweise eine Warnung zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="387c8-142">Unexpected characters do not cause directory synchronization to fail but might return a warning.</span></span> <span data-ttu-id="387c8-143">Ungültige Zeichen führen zu einem Fehler bei der Verzeichnissynchronisierung.</span><span class="sxs-lookup"><span data-stu-id="387c8-143">Invalid characters will cause directory synchronization to fail.</span></span>
  
<span data-ttu-id="387c8-144">Die Verzeichnissynchronisierung schlägt ebenfalls fehl, wenn einige Ihrer Active Directory-Benutzer über ein oder mehrere doppelte Attribute verfügen.</span><span class="sxs-lookup"><span data-stu-id="387c8-144">Directory synchronization will also fail if some of your Active Directory users have one or more duplicate attributes.</span></span> <span data-ttu-id="387c8-145">Jeder Benutzer muss über eindeutige Attribute verfügen.</span><span class="sxs-lookup"><span data-stu-id="387c8-145">Each user must have unique attributes.</span></span>
  
<span data-ttu-id="387c8-146">Die Attribute, die Sie vorbereiten müssen, sind hier aufgeführt:</span><span class="sxs-lookup"><span data-stu-id="387c8-146">The attributes that you need to prepare are listed here:</span></span>
  
 <span data-ttu-id="387c8-147">**Hinweis:** Sie können dieses Verfahren auch mit dem [IdFix-Tool](install-and-run-idfix.md) vereinfachen.</span><span class="sxs-lookup"><span data-stu-id="387c8-147">**NOTE:** You can also use the [IdFix tool](install-and-run-idfix.md) to make this process a lot easier.</span></span> 
  
- <span data-ttu-id="387c8-148">**displayName**</span><span class="sxs-lookup"><span data-stu-id="387c8-148">**displayName**</span></span>
    
  - <span data-ttu-id="387c8-149">Wenn das Attribut im User-Objekt vorhanden ist, wird es mit Office 365 synchronisiert.</span><span class="sxs-lookup"><span data-stu-id="387c8-149">If the attribute exists in the user object, it will be synchronized with Office 365.</span></span>
  - <span data-ttu-id="387c8-150">Wenn dieses Attribut im User-Objekt vorhanden ist, muss es einen Wert enthalten.</span><span class="sxs-lookup"><span data-stu-id="387c8-150">If this attribute exists in the user object, there must be a value for it.</span></span> <span data-ttu-id="387c8-151">Das heißt, das Attribut darf nicht leer sein.</span><span class="sxs-lookup"><span data-stu-id="387c8-151">That is, the attribute must not be blank.</span></span>
  - <span data-ttu-id="387c8-152">Maximale Anzahl der Zeichen: 256</span><span class="sxs-lookup"><span data-stu-id="387c8-152">Maximum number of characters: 256</span></span>
    
- <span data-ttu-id="387c8-153">**givenName**</span><span class="sxs-lookup"><span data-stu-id="387c8-153">**givenName**</span></span>
    
  - <span data-ttu-id="387c8-154">Wenn das Attribut im User-Objekt vorhanden ist, wird es mit Office 365 synchronisiert, jedoch von Office 365 nicht benötigt oder verwendet.</span><span class="sxs-lookup"><span data-stu-id="387c8-154">If the attribute exists in the user object, it will be synchronized with Office 365, but Office 365 does not require or use it.</span></span>
  - <span data-ttu-id="387c8-155">Maximale Anzahl der Zeichen: 64</span><span class="sxs-lookup"><span data-stu-id="387c8-155">Maximum number of characters: 64</span></span>
    
- <span data-ttu-id="387c8-156">**Mail**</span><span class="sxs-lookup"><span data-stu-id="387c8-156">**mail**</span></span>
    
  - <span data-ttu-id="387c8-157">Der Attributwert muss innerhalb des Verzeichnisses eindeutig sein.</span><span class="sxs-lookup"><span data-stu-id="387c8-157">The attribute value must be unique within the directory.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="387c8-158">Wenn doppelte Werte vorhanden sind, wird der erste Benutzer mit dem Wert synchronisiert.</span><span class="sxs-lookup"><span data-stu-id="387c8-158">If there are duplicate values, the first user with the value is synchronized.</span></span> <span data-ttu-id="387c8-159">Nachfolgende Benutzer werden nicht in Office 365 angezeigt.</span><span class="sxs-lookup"><span data-stu-id="387c8-159">Subsequent users will not appear in Office 365.</span></span> <span data-ttu-id="387c8-160">Sie müssen entweder den Wert in Office 365 ändern oder beide Werte im lokalen Verzeichnis ändern, damit beide Benutzer in Office 365 angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="387c8-160">You must modify either the value in Office 365, or modify both of the values in the on-premises directory in order for both users to appear in Office 365.</span></span> 
  
- <span data-ttu-id="387c8-161">\*\*\*\* mailNickname (Exchange-Alias)</span><span class="sxs-lookup"><span data-stu-id="387c8-161">**mailNickname** (Exchange alias)</span></span> 
    
  - <span data-ttu-id="387c8-162">Der Attributwert darf nicht mit einem Punkt (.) beginnen.</span><span class="sxs-lookup"><span data-stu-id="387c8-162">The attribute value cannot begin with a period (.).</span></span>
  - <span data-ttu-id="387c8-163">Der Attributwert muss innerhalb des Verzeichnisses eindeutig sein.</span><span class="sxs-lookup"><span data-stu-id="387c8-163">The attribute value must be unique within the directory.</span></span>
    
- <span data-ttu-id="387c8-164">**proxyAddresses**</span><span class="sxs-lookup"><span data-stu-id="387c8-164">**proxyAddresses**</span></span>
    
  - <span data-ttu-id="387c8-165">Attribut mit mehreren Werten</span><span class="sxs-lookup"><span data-stu-id="387c8-165">Multiple-value attribute</span></span>
  - <span data-ttu-id="387c8-166">Maximale Anzahl von Zeichen pro Wert: 256</span><span class="sxs-lookup"><span data-stu-id="387c8-166">Maximum number of characters per value: 256</span></span>
  - <span data-ttu-id="387c8-167">Der Attributwert darf kein Leerzeichen enthalten.</span><span class="sxs-lookup"><span data-stu-id="387c8-167">The attribute value must not contain a space.</span></span>
  - <span data-ttu-id="387c8-168">Der Attributwert muss innerhalb des Verzeichnisses eindeutig sein.</span><span class="sxs-lookup"><span data-stu-id="387c8-168">The attribute value must be unique within the directory.</span></span>
  - <span data-ttu-id="387c8-169">Ungültige Zeichen: \< \> (); , [ ] "</span><span class="sxs-lookup"><span data-stu-id="387c8-169">Invalid characters: \< \> ( ) ; , [ ] "</span></span>
    
    <span data-ttu-id="387c8-170">Beachten Sie, dass die ungültigen Zeichen auf die Zeichen nach dem typtrennzeichen und ":" angewendet werden, sodass SMTP:User@contso.com zulässig ist, aber SMTP:User:M@contoso.com nicht.</span><span class="sxs-lookup"><span data-stu-id="387c8-170">Note that the invalid characters apply to the characters following the type delimiter and ":", such that SMTP:User@contso.com is allowed, but SMTP:user:M@contoso.com is not.</span></span>
    
    > [!IMPORTANT]
    > <span data-ttu-id="387c8-171">Alle SMTP-Adressen (Simple Mail Transport Protocol) sollten den Standards für e-Mail-Messaging entsprechen.</span><span class="sxs-lookup"><span data-stu-id="387c8-171">All Simple Mail Transport Protocol (SMTP) addresses should comply with email messaging standards.</span></span> <span data-ttu-id="387c8-172">Wenn doppelte oder unerwünschte Adressen vorhanden sind, finden Sie weitere Informationen im Hilfethema [Entfernen von doppelten und unerwünschten Proxyadressen in Exchange](https://go.microsoft.com/fwlink/?LinkId=293860).</span><span class="sxs-lookup"><span data-stu-id="387c8-172">If duplicate or unwanted addresses exist, see the Help topic [Removing duplicate and unwanted proxy addresses in Exchange](https://go.microsoft.com/fwlink/?LinkId=293860).</span></span> 
  
- <span data-ttu-id="387c8-173">**sAMAccountName**</span><span class="sxs-lookup"><span data-stu-id="387c8-173">**sAMAccountName**</span></span>
    
  - <span data-ttu-id="387c8-174">Maximale Anzahl der Zeichen: 20</span><span class="sxs-lookup"><span data-stu-id="387c8-174">Maximum number of characters: 20</span></span>
  - <span data-ttu-id="387c8-175">Der Attributwert muss innerhalb des Verzeichnisses eindeutig sein.</span><span class="sxs-lookup"><span data-stu-id="387c8-175">The attribute value must be unique within the directory.</span></span>
  - <span data-ttu-id="387c8-176">Ungültige Zeichen: [\ "|,/: \< \> + =;?</span><span class="sxs-lookup"><span data-stu-id="387c8-176">Invalid characters: [ \ " | , / : \< \> + = ; ?</span></span> <span data-ttu-id="387c8-177">\* ]</span><span class="sxs-lookup"><span data-stu-id="387c8-177"></span></span>
  - <span data-ttu-id="387c8-178">Wenn ein Benutzer über ein ungültiges **sAMAccountName** -Attribut verfügt, jedoch über ein gültiges **userPrincipalName** -Attribut verfügt, wird das Benutzerkonto in Office 365 erstellt.</span><span class="sxs-lookup"><span data-stu-id="387c8-178">If a user has an invalid **sAMAccountName** attribute but has a valid **userPrincipalName** attribute, the user account is created in Office 365.</span></span> 
  - <span data-ttu-id="387c8-179">Wenn sowohl **sAMAccountName** als auch **userPrincipalName** ungültig sind, muss das **userPrincipalName** -Attribut des lokalen Active Directory-Attributs aktualisiert werden.</span><span class="sxs-lookup"><span data-stu-id="387c8-179">If both **sAMAccountName** and **userPrincipalName** are invalid, the on-premises Active Directory **userPrincipalName** attribute must be updated.</span></span> 
    
- <span data-ttu-id="387c8-180">**SN** Surname</span><span class="sxs-lookup"><span data-stu-id="387c8-180">**sn** (surname)</span></span> 
    
  - <span data-ttu-id="387c8-181">Wenn das Attribut im User-Objekt vorhanden ist, wird es mit Office 365 synchronisiert, jedoch von Office 365 nicht benötigt oder verwendet.</span><span class="sxs-lookup"><span data-stu-id="387c8-181">If the attribute exists in the user object, it will be synchronized with Office 365, but Office 365 does not require or use it.</span></span>
    
- <span data-ttu-id="387c8-182">**targetAddress**</span><span class="sxs-lookup"><span data-stu-id="387c8-182">**targetAddress**</span></span>
    
    <span data-ttu-id="387c8-183">Es ist erforderlich, dass das **targetAddress** -Attribut (beispielsweise SMTP:Tom@contoso.com), das für den Benutzer aufgefüllt wird, in der Office 365 GAL angezeigt werden muss.</span><span class="sxs-lookup"><span data-stu-id="387c8-183">It's required that the **targetAddress** attribute (for example, SMTP:tom@contoso.com) that's populated for the user must appear in the Office 365 GAL.</span></span> <span data-ttu-id="387c8-184">In Drittanbieter-Messaging-Migrationsszenarien würde dies die Office 365-Schemaerweiterung für das lokale Verzeichnis erfordern.</span><span class="sxs-lookup"><span data-stu-id="387c8-184">In third-party messaging migration scenarios, this would require the Office 365 schema extension for the on-premises directory.</span></span> <span data-ttu-id="387c8-185">Die Office 365-Schemaerweiterung würde außerdem weitere nützliche Attribute zum Verwalten von Office 365-Objekten hinzufügen, die mit einem Verzeichnissynchronisierungstool vom lokalen Verzeichnis aufgefüllt werden.</span><span class="sxs-lookup"><span data-stu-id="387c8-185">The Office 365 schema extension would also add other useful attributes to manage Office 365 objects that are populated by using a directory synchronization tool from on-premises directory.</span></span> <span data-ttu-id="387c8-186">Beispielsweise würde das **msExchHideFromAddressLists** -Attribut zum Verwalten von ausgeblendeten Postfächern oder Verteilergruppen hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="387c8-186">For example, the **msExchHideFromAddressLists** attribute to manage hidden mailboxes or distribution groups would be added.</span></span> 
   
  - <span data-ttu-id="387c8-187">Maximale Anzahl der Zeichen: 256</span><span class="sxs-lookup"><span data-stu-id="387c8-187">Maximum number of characters: 256</span></span>
  - <span data-ttu-id="387c8-188">Der Attributwert darf kein Leerzeichen enthalten.</span><span class="sxs-lookup"><span data-stu-id="387c8-188">The attribute value must not contain a space.</span></span>
  - <span data-ttu-id="387c8-189">Der Attributwert muss innerhalb des Verzeichnisses eindeutig sein.</span><span class="sxs-lookup"><span data-stu-id="387c8-189">The attribute value must be unique within the directory.</span></span>
  - <span data-ttu-id="387c8-190">Ungültige Zeichen: \ \< \> (); , [ ] "</span><span class="sxs-lookup"><span data-stu-id="387c8-190">Invalid characters: \ \< \> ( ) ; , [ ] "</span></span>
  - <span data-ttu-id="387c8-191">Alle SMTP-Adressen (Simple Mail Transport Protocol) sollten den Standards für e-Mail-Messaging entsprechen.</span><span class="sxs-lookup"><span data-stu-id="387c8-191">All Simple Mail Transport Protocol (SMTP) addresses should comply with email messaging standards.</span></span>
    
- <span data-ttu-id="387c8-192">**userPrincipalName**</span><span class="sxs-lookup"><span data-stu-id="387c8-192">**userPrincipalName**</span></span>
    
  - <span data-ttu-id="387c8-193">Das **userPrincipalName** -Attribut muss im Internet-Stil-Anmeldeformat vorliegen, in dem der Benutzername vom @-Zeichen und einem Domänennamen gefolgt wird, beispielsweise user@contoso.com.</span><span class="sxs-lookup"><span data-stu-id="387c8-193">The **userPrincipalName** attribute must be in the Internet-style sign-in format where the user name is followed by the at sign (@) and a domain name: for example, user@contoso.com.</span></span> <span data-ttu-id="387c8-194">Alle SMTP-Adressen (Simple Mail Transport Protocol) sollten den Standards für e-Mail-Messaging entsprechen.</span><span class="sxs-lookup"><span data-stu-id="387c8-194">All Simple Mail Transport Protocol (SMTP) addresses should comply with email messaging standards.</span></span>
  - <span data-ttu-id="387c8-195">Die maximale Anzahl von Zeichen für das **userPrincipalName** -Attribut lautet 113.</span><span class="sxs-lookup"><span data-stu-id="387c8-195">The maximum number of characters for the **userPrincipalName** attribute is 113.</span></span> <span data-ttu-id="387c8-196">Eine bestimmte Anzahl von Zeichen ist vor und nach dem @-Zeichen (@) wie folgt zulässig:</span><span class="sxs-lookup"><span data-stu-id="387c8-196">A specific number of characters are permitted before and after the at sign (@), as follows:</span></span> 
  - <span data-ttu-id="387c8-197">Maximale Anzahl der Zeichen für den Benutzernamen vor dem @-Zeichen: 64</span><span class="sxs-lookup"><span data-stu-id="387c8-197">Maximum number of characters for the user name that is in front of the at sign (@): 64</span></span>
  - <span data-ttu-id="387c8-198">Maximale Anzahl von Zeichen für den Domänennamen nach dem @-Zeichen (@): 48</span><span class="sxs-lookup"><span data-stu-id="387c8-198">Maximum number of characters for the domain name following the at sign (@): 48</span></span>
  - <span data-ttu-id="387c8-199">Ungültige Zeichen: \% &amp; \* +/=?</span><span class="sxs-lookup"><span data-stu-id="387c8-199">Invalid characters: \ % &amp; \* + / = ?</span></span> <span data-ttu-id="387c8-200">{ } | \< \> ( ) ; : , [ ] "</span><span class="sxs-lookup"><span data-stu-id="387c8-200"></span></span>
  - <span data-ttu-id="387c8-201">Ein Umlaut ist auch ein ungültiges Zeichen.</span><span class="sxs-lookup"><span data-stu-id="387c8-201">An umlaut is also an invalid character.</span></span>
  - <span data-ttu-id="387c8-202">Das @-Zeichen ist in jedem **userPrincipalName** -Wert erforderlich.</span><span class="sxs-lookup"><span data-stu-id="387c8-202">The @ character is required in each **userPrincipalName** value.</span></span> 
  - <span data-ttu-id="387c8-203">Das @-Zeichen darf nie das erste Zeichen in einem **userPrincipalName**-Wert sein.</span><span class="sxs-lookup"><span data-stu-id="387c8-203">The @ character cannot be the first character in each **userPrincipalName** value.</span></span> 
  - <span data-ttu-id="387c8-204">Der Benutzername darf nicht mit einem Punkt (.), einem kaufmännischem&amp;und-Zeichen (), einer Leertaste oder einem @-Symbol enden.</span><span class="sxs-lookup"><span data-stu-id="387c8-204">The user name cannot end with a period (.), an ampersand (&amp;), a space, or an at sign (@).</span></span>
  - <span data-ttu-id="387c8-205">Der Benutzername darf keine Leerzeichen enthalten.</span><span class="sxs-lookup"><span data-stu-id="387c8-205">The user name cannot contain any spaces.</span></span>
  - <span data-ttu-id="387c8-206">Routingfähige Domänen müssen verwendet werden; Beispielsweise können lokale oder interne Domänen nicht verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="387c8-206">Routable domains must be used; for example, local or internal domains cannot be used.</span></span>
  - <span data-ttu-id="387c8-207">Unicode-Zeichen werden in Unterstriche umgewandelt.</span><span class="sxs-lookup"><span data-stu-id="387c8-207">Unicode is converted to underscore characters.</span></span>
  - <span data-ttu-id="387c8-208">**userPrincipalName** darf keine doppelten Werte im Verzeichnis enthalten.</span><span class="sxs-lookup"><span data-stu-id="387c8-208">**userPrincipalName** cannot contain any duplicate values in the directory.</span></span> 
    
## <a name="prepare-the-userprincipalname-attribute"></a><span data-ttu-id="387c8-209">Vorbereiten des userPrincipalName-Attributs</span><span class="sxs-lookup"><span data-stu-id="387c8-209">Prepare the userPrincipalName attribute</span></span>

<span data-ttu-id="387c8-210">Active Directory soll es den Endbenutzern in Ihrer Organisation ermöglichen, sich über **sAMAccountName** oder **userPrincipalName**bei Ihrem Verzeichnis anzumelden.</span><span class="sxs-lookup"><span data-stu-id="387c8-210">Active Directory is designed to allow the end users in your organization to sign in to your directory by using either **sAMAccountName** or **userPrincipalName**.</span></span> <span data-ttu-id="387c8-211">Entsprechend können Endbenutzer sich mit dem Benutzerprinzipalnamen (UPN) Ihres Geschäfts-oder Schul Kontos bei Office 365 anmelden.</span><span class="sxs-lookup"><span data-stu-id="387c8-211">Similarly, end users can sign in to Office 365 by using the user principal name (UPN) of their work or school account.</span></span> <span data-ttu-id="387c8-212">Die Verzeichnissynchronisierung versucht, neue Benutzer in Azure Active Directory mithilfe desselben UPN zu erstellen, der sich in Ihrem lokalen Verzeichnis befindet.</span><span class="sxs-lookup"><span data-stu-id="387c8-212">Directory synchronization attempts to create new users in Azure Active Directory by using the same UPN that's in your on-premises directory.</span></span> <span data-ttu-id="387c8-213">Der UPN ist wie eine e-Mail-Adresse formatiert.</span><span class="sxs-lookup"><span data-stu-id="387c8-213">The UPN is formatted like an email address.</span></span> 

<span data-ttu-id="387c8-214">In Office 365 ist der UPN das Standardattribut, mit dem die e-Mail-Adresse generiert wird.</span><span class="sxs-lookup"><span data-stu-id="387c8-214">In Office 365, the UPN is the default attribute that's used to generate the email address.</span></span> <span data-ttu-id="387c8-215">Es ist ganz einfach, **userPrincipalName** (lokal und in Azure Active Directory) abzurufen, und die primäre e-Mail-Adresse in **proxyAddresses** wird auf unterschiedliche Werte festgelegt.</span><span class="sxs-lookup"><span data-stu-id="387c8-215">It's easy to get **userPrincipalName** (on-premises and in Azure Active Directory) and the primary email address in **proxyAddresses** set to different values.</span></span> <span data-ttu-id="387c8-216">Wenn Sie auf unterschiedliche Werte festgelegt werden, kann es zu Verwirrung für Administratoren und Endbenutzer kommen.</span><span class="sxs-lookup"><span data-stu-id="387c8-216">When they are set to different values, there can be confusion for administrators and end users.</span></span> 
  
<span data-ttu-id="387c8-217">Am besten richten Sie diese Attribute aus, um Verwirrung zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="387c8-217">It's best to align these attributes to reduce confusion.</span></span> <span data-ttu-id="387c8-218">Um die Anforderungen der einmaligen Anmeldung mit Active Directory-Verbunddiensten (AD FS) 2,0 zu erfüllen, müssen Sie sicherstellen, dass die UPNs in Azure Active Directory und Ihr lokales Active Directory übereinstimmen und einen gültigen Domänennamespace verwenden.</span><span class="sxs-lookup"><span data-stu-id="387c8-218">To meet the requirements of single sign-on with Active Directory Federation Services (AD FS) 2.0, you need to ensure that the UPNs in Azure Active Directory and your on-premises Active Directory match and are using a valid domain namespace.</span></span>
  
## <a name="add-an-alternative-upn-suffix-to-ad-ds"></a><span data-ttu-id="387c8-219">Hinzufügen eines alternativen UPN-Suffixes zu AD DS</span><span class="sxs-lookup"><span data-stu-id="387c8-219">Add an alternative UPN suffix to AD DS</span></span>

<span data-ttu-id="387c8-220">Möglicherweise müssen Sie ein alternatives UPN-Suffix hinzufügen, um die Unternehmensanmeldeinformationen des Benutzers mit der Office 365-Umgebung zu verknüpfen.</span><span class="sxs-lookup"><span data-stu-id="387c8-220">You may need to add an alternative UPN suffix to associate the user's corporate credentials with the Office 365 environment.</span></span> <span data-ttu-id="387c8-221">Ein UPN-Suffix ist der Teil eines Benutzerprinzipalnamens, der rechts vom Zeichen @ steht.</span><span class="sxs-lookup"><span data-stu-id="387c8-221">A UPN suffix is the part of a UPN to the right of the @ character.</span></span> <span data-ttu-id="387c8-222">UPNs, die für einmaliges Anmelden verwendet werden, können Buchstaben, Zahlen, Punkte, Bindestriche und Unterstriche enthalten, aber keine anderen Zeichen.</span><span class="sxs-lookup"><span data-stu-id="387c8-222">UPNs that are used for single sign-on can contain letters, numbers, periods, dashes, and underscores, but no other types of characters.</span></span>
  
<span data-ttu-id="387c8-223">Weitere Informationen zum Hinzufügen eines alternativen UPN-Suffix zu Active Directory finden Sie unter [Prepare for Directory Synchronization]( https://go.microsoft.com/fwlink/p/?LinkId=525430).</span><span class="sxs-lookup"><span data-stu-id="387c8-223">For more information on how to add an alternative UPN suffix to Active Directory, see [Prepare for directory synchronization]( https://go.microsoft.com/fwlink/p/?LinkId=525430).</span></span>
  
## <a name="match-the-on-premises-upn-with-the-office-365-upn"></a><span data-ttu-id="387c8-224">Übereinstimmung mit dem lokalen UPN mit dem Office 365 UPN</span><span class="sxs-lookup"><span data-stu-id="387c8-224">Match the on-premises UPN with the Office 365 UPN</span></span>

<span data-ttu-id="387c8-225">Wenn Sie die Verzeichnissynchronisierung bereits eingerichtet haben, stimmt der UPN des Benutzers für Office 365 möglicherweise nicht mit dem lokalen UPN des Benutzers überein, der im lokalen Verzeichnisdienst definiert ist.</span><span class="sxs-lookup"><span data-stu-id="387c8-225">If you've already set up directory synchronization, the user's UPN for Office 365 may not match the user's on-premises UPN that's defined in your on-premises directory service.</span></span> <span data-ttu-id="387c8-226">Das kann vorkommen, wenn einem Benutzer vor der Überprüfung der Domäne schon eine Lizenz zugewiesen wurde.</span><span class="sxs-lookup"><span data-stu-id="387c8-226">This can occur when a user was assigned a license before the domain was verified.</span></span> <span data-ttu-id="387c8-227">Um dies zu beheben, verwenden Sie [PowerShell, um doppelte UPN zu beheben](https://go.microsoft.com/fwlink/p/?LinkId=396730) , um den UPN des Benutzers zu aktualisieren, um sicherzustellen, dass der Office 365 UPN mit dem Unternehmensbenutzer Namen und der Domäne übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="387c8-227">To fix this, use [PowerShell to fix duplicate UPN](https://go.microsoft.com/fwlink/p/?LinkId=396730) to update the user's UPN to ensure that the Office 365 UPN matches the corporate user name and domain.</span></span> <span data-ttu-id="387c8-228">Wenn Sie den UPN im lokalen Verzeichnisdienst aktualisieren und ihn mit der Azure Active Directory-Identität synchronisieren möchten, müssen Sie die Benutzerlizenz in Office 365 entfernen, bevor Sie die Änderungen lokal vornehmen.</span><span class="sxs-lookup"><span data-stu-id="387c8-228">If you are updating the UPN in the on-premises directory service and would like it to synchronize with the Azure Active Directory identity, you need to remove the user's license in Office 365 prior to making the changes on-premises.</span></span> 
  
<span data-ttu-id="387c8-229">Weitere Informationen finden Sie unter [Vorbereiten einer nicht routingfähigen Domäne (beispielsweise. Local Domain) für die Verzeichnissynchronisierung](prepare-a-non-routable-domain-for-directory-synchronization.md).</span><span class="sxs-lookup"><span data-stu-id="387c8-229">See also [How to prepare a non-routable domain (such as .local domain) for directory synchronization](prepare-a-non-routable-domain-for-directory-synchronization.md).</span></span>
  
## <a name="directory-integration-tools"></a><span data-ttu-id="387c8-230">Verzeichnis Integrationstools</span><span class="sxs-lookup"><span data-stu-id="387c8-230">Directory integration tools</span></span>

<span data-ttu-id="387c8-231">Bei der Verzeichnissynchronisierung handelt es sich um die Synchronisierung von Verzeichnisobjekten (Benutzern, Gruppen und Kontakten) von Ihrer lokalen Active Directory-Umgebung zur Office 365-Verzeichnisinfrastruktur, Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="387c8-231">Directory synchronization is the synchronization of directory objects (users, groups, and contacts) from your on-premises Active Directory environment to the Office 365 directory infrastructure, Azure Active Directory.</span></span> <span data-ttu-id="387c8-232">Eine Liste der verfügbaren Tools und deren Funktionen finden Sie unter [Directory-Integrationstools](https://go.microsoft.com/fwlink/p/?LinkID=510956) .</span><span class="sxs-lookup"><span data-stu-id="387c8-232">See [Directory Integration Tools](https://go.microsoft.com/fwlink/p/?LinkID=510956) for a list of the available tools and their functionality.</span></span> <span data-ttu-id="387c8-233">Das empfohlene Tool ist [Microsoft Azure Active Directory Connect](https://go.microsoft.com/fwlink/p/?LinkID=510956).</span><span class="sxs-lookup"><span data-stu-id="387c8-233">The recommended tool is [Microsoft Azure Active Directory Connect](https://go.microsoft.com/fwlink/p/?LinkID=510956).</span></span> <span data-ttu-id="387c8-234">Weitere Informationen zu Azure Active Directory Connect finden Sie unter [integrieren Ihrer lokalen Identitäten in Azure Active](https://go.microsoft.com/fwlink/p/?LinkId=527969)Directory.</span><span class="sxs-lookup"><span data-stu-id="387c8-234">For more information about Azure Active Directory Connect, see [Integrating your on-premises identities with Azure Active Directory](https://go.microsoft.com/fwlink/p/?LinkId=527969).</span></span>
  
<span data-ttu-id="387c8-235">Wenn Benutzerkonten zum ersten Mal mit dem Office 365-Verzeichnis synchronisiert werden, werden Sie als nicht aktiviert gekennzeichnet.</span><span class="sxs-lookup"><span data-stu-id="387c8-235">When user accounts are synchronized with the Office 365 directory for the first time, they are marked as not activated.</span></span> <span data-ttu-id="387c8-236">Sie können keine e-Mails senden oder empfangen, und Sie nutzen keine Abonnementlizenzen.</span><span class="sxs-lookup"><span data-stu-id="387c8-236">They cannot send or receive email, and they don't consume subscription licenses.</span></span> <span data-ttu-id="387c8-237">Wenn Sie bereit sind, Office 365-Abonnements bestimmten Benutzern zuzuweisen, müssen Sie diese aktivieren und aktivieren, indem Sie [Benutzern in Office 365 for Business Lizenzen zuweisen](https://support.office.com/article/997596b5-4173-4627-b915-36abac6786dc).</span><span class="sxs-lookup"><span data-stu-id="387c8-237">When you're ready to assign Office 365 subscriptions to specific users, you must select and activate them by [Assign licenses to users in Office 365 for business](https://support.office.com/article/997596b5-4173-4627-b915-36abac6786dc).</span></span>
  
<span data-ttu-id="387c8-238">Sie können auch [PowerShell](https://go.microsoft.com/fwlink/p/?LinkId=613097) verwenden, um Lizenzen zuzuweisen.</span><span class="sxs-lookup"><span data-stu-id="387c8-238">You can also use [PowerShell](https://go.microsoft.com/fwlink/p/?LinkId=613097) to assign licenses.</span></span> <span data-ttu-id="387c8-239">Weitere Informationen finden Sie unter [Verwenden von PowerShell zum automatischen Zuweisen von Lizenzen zu Ihren Office 365-Benutzern](https://go.microsoft.com/fwlink/p?LinkID=329805) für eine automatisierte Lösung.</span><span class="sxs-lookup"><span data-stu-id="387c8-239">See [How to Use PowerShell to Automatically Assign Licenses to Your Office 365 Users](https://go.microsoft.com/fwlink/p?LinkID=329805) for an automated solution.</span></span>